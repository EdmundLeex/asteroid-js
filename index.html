<!DOCTYPE html>
<html>
  <head>
    <title>Asteroids</title>
    <link rel="stylesheet" type="text/css" href="game.css">
  </head>

  <body>
    <div id="start-game" class="modal show">
      <div class="modal-title">WELCOME</div>
      <div id="start" class="btn">START</div>
    </div>

    <div id="gameover" class="modal hide">
      <div class="modal-title">GAME OVER</div>
      <div id="restart" class="btn">RETRY</div>
    </div>

    <div id="timer"></div>
    <canvas id="game-background"></canvas>
    <canvas id="game-canvas"></canvas>

    <script src="lib/group.js"></script>
    <script src="lib/utils.js"></script>
    <script src="lib/pooling.js"></script>
    <script src="lib/movingObject.js"></script>
    <script src="lib/asteroid.js"></script>
    <script src="lib/bullet.js"></script>
    <script src="lib/ship.js"></script>
    <script src="lib/boid.js"></script>
    <script src="lib/weaponary.js"></script>
    <script src="lib/invincible.js"></script>
    <script src="lib/all_dir_fire.js"></script>
    <script src="lib/timer.js"></script>
    <script src="lib/game.js"></script>
    <script src="lib/game_bg.js"></script>
    <script src="lib/gameView.js"></script>

    <script>
      var canvasEl = document.getElementById("game-canvas");
      canvasEl.height = window.innerHeight * 0.9;
      canvasEl.width = window.innerWidth * 0.98;

      var backgroundCanvas = document.getElementById("game-background");
      backgroundCanvas.height = window.innerHeight;
      backgroundCanvas.width = window.innerWidth;

      var gameView = new Asteroids.GameView(
                           canvasEl.height,
                           canvasEl.width,
                           backgroundCanvas.height,
                           backgroundCanvas.width
                         );

      var startBtn = document.getElementById('start');
      startBtn.addEventListener('click', start);

      var restartBtn = document.getElementById("restart");
      restartBtn.addEventListener('click', restart);

      function start() {
        var modal = document.getElementById('start-game');
        modal.classList.remove('show');
        modal.classList.add('hide');
        startGame();
      }

      function restart() {
        var modal = document.getElementById("gameover");
        modal.classList.remove("show");
        modal.classList.add("hide");
        startGame();
      }

      function startGame() {
        // var timerDiv = document.getElementById("timer");
        gameView.start(canvasEl, backgroundCanvas);
      }

      // startGame();
    </script>
  </body>
</html>
